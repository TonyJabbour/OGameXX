; OPcache configuration for Laravel in containers
; Optimized for high-performance PHP applications

[opcache]
; Enable OPcache
opcache.enable=1
opcache.enable_cli=0

; Memory allocation
opcache.memory_consumption=256
opcache.interned_strings_buffer=32
opcache.max_accelerated_files=20000

; Cache invalidation
opcache.revalidate_freq=0
opcache.validate_timestamps=0

; Performance optimizations
opcache.fast_shutdown=1
opcache.enable_file_override=1
opcache.save_comments=1

; Preloading configuration
opcache.preload=/var/www/html/bootstrap/cache/preload.php
opcache.preload_user=www-app

; Memory management
opcache.max_wasted_percentage=10
opcache.max_garbage_percentage=10

; Tuning parameters
opcache.preload_user=www-app
opcache.jit=1255
opcache.jit_buffer_size=128M

; Debug settings (disable in production)
; opcache.log_verbosity_level=4
; opcache.error_log=/var/www/html/storage/logs/opcache_errors.log
